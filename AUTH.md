# –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Chat MVP

## üîê –¢–∏–ø—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –ø–∞—Ä–æ–ª–µ–º
- **Endpoint**: `POST /auth/register`
- **–ü–æ–ª—è**: username, password
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: 
  - Username: 3-20 —Å–∏–º–≤–æ–ª–æ–≤
  - Password: –º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ü–∞—Ä–æ–ª–∏ —Ö–µ—à–∏—Ä—É—é—Ç—Å—è —Å bcrypt

### 2. –í—Ö–æ–¥ —Å –ø–∞—Ä–æ–ª–µ–º
- **Endpoint**: `POST /auth/login`
- **–ü–æ–ª—è**: username, password
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–∞—Ä–æ–ª–µ–º

<!-- –ì–æ—Å—Ç–µ–≤–æ–π —Ä–µ–∂–∏–º —É–¥–∞–ª–µ–Ω: –≤—Ö–æ–¥ –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –ø–æ –ª–æ–≥–∏–Ω—É –∏ –ø–∞—Ä–æ–ª—é -->

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
```javascript
// –°–µ—Ä–≤–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç bcrypt —Å —Å–æ–ª—å—é
const hashedPassword = await bcrypt.hash(password, 10);
const isValid = await bcrypt.compare(password, hashedPassword);
```

### JWT —Ç–æ–∫–µ–Ω—ã
- **–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è**: 24 —á–∞—Å–∞
- **–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á**: –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ JWT_SECRET
- **Payload**: { userId, iat, exp }

### –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –ø–∞—Ä–æ–ª—è: 6 —Å–∏–º–≤–æ–ª–æ–≤
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ username: 20 —Å–∏–º–≤–æ–ª–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

## üì± UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### LoginForm
- –ü–æ–ª—è: username, password
- –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### RegisterForm
- –ü–æ–ª—è: username, password, confirmPassword
- –ü–æ–∫–∞–∑/—Å–∫—Ä—ã—Ç–∏–µ –ø–∞—Ä–æ–ª–µ–π
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π
- –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –≤—Ö–æ–¥—É

## üîÑ –ü–æ—Ç–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
2. –ö–ª–∏–µ–Ω—Ç –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ
3. –û—Ç–ø—Ä–∞–≤–∫–∞ POST /auth/register
4. –°–µ—Ä–≤–µ—Ä —Ö–µ—à–∏—Ä—É–µ—Ç –ø–∞—Ä–æ–ª—å –∏ —Å–æ–∑–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
5. –í–æ–∑–≤—Ä–∞—Ç JWT —Ç–æ–∫–µ–Ω–∞ –∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
6. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
7. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WebSocket

### –í—Ö–æ–¥
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É –≤—Ö–æ–¥–∞
2. –ö–ª–∏–µ–Ω—Ç –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ
3. –û—Ç–ø—Ä–∞–≤–∫–∞ POST /auth/login
4. –°–µ—Ä–≤–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–∞—Ä–æ–ª—å
5. –í–æ–∑–≤—Ä–∞—Ç JWT —Ç–æ–∫–µ–Ω–∞ –∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
6. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
7. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WebSocket

<!-- –†–∞–∑–¥–µ–ª –≥–æ—Å—Ç–µ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞ —É–¥–∞–ª–µ–Ω -->

## üóÑÔ∏è –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### localStorage
```javascript
localStorage.setItem('chatToken', token);
localStorage.setItem('chatUser', JSON.stringify(user));
```

### –°–µ—Ä–≤–µ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- **In-memory**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Map
- **–ü–∞—Ä–æ–ª–∏**: –•–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å bcrypt
- **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ**: createdAt, isOnline, lastSeen

## üîß API Reference

### POST /auth/register
```json
{
  "username": "string (3-20 chars)",
  "password": "string (min 6 chars)"
}
```

**Response (200)**:
```json
{
  "token": "jwt_token",
  "user": {
    "id": "string",
    "username": "string",
    "isOnline": true,
    "createdAt": "ISO_date"
  }
}
```

**Response (400)**:
```json
{
  "error": "User already exists"
}
```

### POST /auth/login
```json
{
  "username": "string",
  "password": "string"
}
```

**Response (200)**:
```json
{
  "token": "jwt_token",
  "user": { ... }
}
```

**Response (401)**:
```json
{
  "error": "Invalid username or password"
}
```

<!-- Endpoint /auth/guest —É–¥–∞–ª–µ–Ω -->

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```javascript
const response = await apiClient.register('newuser', 'password123');
```

### –í—Ö–æ–¥ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```javascript
const response = await apiClient.login('existinguser', 'password123');
```

<!-- –ü—Ä–∏–º–µ—Ä –≥–æ—Å—Ç–µ–≤–æ–≥–æ –≤—Ö–æ–¥–∞ —É–¥–∞–ª–µ–Ω -->

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
1. **JWT_SECRET**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ —Å—Ç–æ–π–∫–∏–π —Å–µ–∫—Ä–µ—Ç
2. **HTTPS**: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
3. **Rate Limiting**: –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –ø–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞
4. **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –°—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
5. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –õ–æ–≥–∏—Ä—É–π—Ç–µ –ø–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
JWT_SECRET=your-super-secret-key-here
NODE_ENV=production
```

## üêõ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
- –ü—É—Å—Ç—ã–µ –ø–æ–ª—è
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞
- –ù–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- –°–µ—Ç–µ–≤—ã–µ –æ—à–∏–±–∫–∏

### –°–µ—Ä–≤–µ—Ä–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏
- –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ—à–∏–±–∫–∏

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –ú–µ—Ç—Ä–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞
- –ù–µ—É–¥–∞—á–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏
- –ù–æ–≤—ã–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- –õ–æ–≥–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å bcrypt
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏